@* Copyright (c) 2023 Xomega.Net. All rights reserved. *@

@using Syncfusion.Blazor.Buttons  
@using System.Text
@using Xomega.Framework.Blazor

@inherits XActionComponent

@if (IsVisible)
{
    <SfButton IsPrimary="IsPrimary" CssClass="@GetButtonClass()" HtmlAttributes="@GetAttributes()"
              Disabled="@(!IsEnabed)" OnClick="OnClick">
        @if (!NoText)@GetLabel(Label)
    </SfButton>
}

@code
{
    private string GetButtonClass()
    {
        StringBuilder sb = new StringBuilder();
        if (Outline) sb.Append("e-outline");
        if (!string.IsNullOrEmpty(Class))
            sb.Append(" ").Append(Class);
        return sb.ToString();
    }

    private Dictionary<string, object> GetAttributes()
    {
        var attr = new Dictionary<string, object>()
        {
            { "accesskey", AccessKey }
        };
        if (AdditionalAttributes != null)
            foreach (var k in AdditionalAttributes.Keys)
                attr.Add(k, AdditionalAttributes[k]);

        return attr;
    }
}