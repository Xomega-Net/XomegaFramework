//---------------------------------------------------------------------------------------------
// This file was AUTO-GENERATED by "XomegaJS Data Objects" Xomega.Net generator.
//
// Manual CHANGES to this file WILL BE LOST when the code is regenerated.
//---------------------------------------------------------------------------------------------

import { ISalesOrderService, SalesOrderDetail_CreateInput_Data, SalesOrderDetail_UpdateInput_Data } from 'ServiceContracts/Sales/ISalesOrderService';
import { DataObject, TextProperty, MoneyProperty, DateTimeProperty, IntegerProperty, EnumProperty, GuidProperty, ErrorList } from 'xomega';

export class SalesOrderDetailObject extends DataObject {

    // Properties
    public CarrierTrackingNumber: TextProperty;
    public LineTotal: MoneyProperty;
    public ModifiedDate: DateTimeProperty;
    public OrderQty: IntegerProperty;
    public ProductId: EnumProperty;
    public Rowguid: GuidProperty;
    public SalesOrderDetailId: IntegerProperty;
    public SalesOrderId: IntegerProperty;
    public SpecialOfferId: EnumProperty;
    public UnitPrice: MoneyProperty;
    public UnitPriceDiscount: MoneyProperty;

    // Construction and initialization
    init() {
        this.CarrierTrackingNumber = new TextProperty();
        this.CarrierTrackingNumber.Size = 25;
        this.LineTotal = new MoneyProperty();
        this.LineTotal.Required(true);
        this.ModifiedDate = new DateTimeProperty();
        this.ModifiedDate.Required(true);
        this.OrderQty = new IntegerProperty();
        this.OrderQty.Required(true);
        this.ProductId = new EnumProperty();
        this.ProductId.Required(true);
        this.ProductId.Size = 10;
        this.ProductId.EnumType = "product";
        this.Rowguid = new GuidProperty();
        this.Rowguid.Required(true);
        this.SalesOrderDetailId = new IntegerProperty();
        this.SalesOrderDetailId.Required(true);
        this.SalesOrderDetailId.Editable(false);
        this.SalesOrderId = new IntegerProperty();
        this.SalesOrderId.Required(true);
        this.SalesOrderId.Editable(false);
        this.SpecialOfferId = new EnumProperty();
        this.SpecialOfferId.Required(true);
        this.SpecialOfferId.Size = 10;
        this.SpecialOfferId.EnumType = "special offer";
        this.UnitPrice = new MoneyProperty();
        this.UnitPrice.Required(true);
        this.UnitPriceDiscount = new MoneyProperty();
        this.UnitPriceDiscount.Required(true);
    }

    protected doReadAsync(options?): JQueryPromise<any> {
        return $.when(
            $.ajax(this.getSalesOrder_Detail_ReadRequest(options)),
        );
    }

    protected doSaveAsync(options?): JQueryPromise<any> {
        if (this.IsNew()) return $.when(
            $.ajax(this.getSalesOrder_Detail_CreateRequest(options)),
        );
        return $.when(
            $.ajax(this.getSalesOrder_Detail_UpdateRequest(options)),
        );
    }

    protected doDeleteAsync(options?): JQueryPromise<any> {
        return $.when(
            $.ajax(this.getSalesOrder_Detail_DeleteRequest(options)),
        );
    }

    protected getSalesOrder_Detail_ReadRequest(options?): JQueryAjaxSettings {
        let obj = this;
        let _salesOrderDetailId: any = obj.SalesOrderDetailId.TransportValue();
        let req = ISalesOrderService.getDetail_ReadRequest(_salesOrderDetailId);
        req.success = data => obj.fromJSON(data, options);
        req.error = (xhr, status, error) => obj.ValidationErrors.mergeWith(ErrorList.fromErrorResponse(xhr, error));
        return req;
    }

    protected getSalesOrder_Detail_CreateRequest(options?): JQueryAjaxSettings {
        let obj = this;
        let _salesOrderId: any = obj.SalesOrderId.TransportValue();
        let _data: SalesOrderDetail_CreateInput_Data = obj.toStruct(SalesOrderDetail_CreateInput_Data);
        let req = ISalesOrderService.getDetail_CreateRequest(_salesOrderId, _data);
        req.success = data => obj.fromJSON(data, options);
        req.error = (xhr, status, error) => obj.ValidationErrors.mergeWith(ErrorList.fromErrorResponse(xhr, error));
        return req;
    }

    protected getSalesOrder_Detail_UpdateRequest(options?): JQueryAjaxSettings {
        let obj = this;
        let _salesOrderDetailId: any = obj.SalesOrderDetailId.TransportValue();
        let _data: SalesOrderDetail_UpdateInput_Data = obj.toStruct(SalesOrderDetail_UpdateInput_Data);
        let req = ISalesOrderService.getDetail_UpdateRequest(_salesOrderDetailId, _data);
        req.error = (xhr, status, error) => obj.ValidationErrors.mergeWith(ErrorList.fromErrorResponse(xhr, error));
        return req;
    }

    protected getSalesOrder_Detail_DeleteRequest(options?): JQueryAjaxSettings {
        let obj = this;
        let _salesOrderDetailId: any = obj.SalesOrderDetailId.TransportValue();
        let req = ISalesOrderService.getDetail_DeleteRequest(_salesOrderDetailId);
        req.error = (xhr, status, error) => obj.ValidationErrors.mergeWith(ErrorList.fromErrorResponse(xhr, error));
        return req;
    }
}
